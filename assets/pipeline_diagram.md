# BioBERT Trophic Mode Classification Pipeline

## Workflow Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         DATA COLLECTION                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   Web of Science Core Collection                                             │
│   ┌──────────────────────┐      ┌──────────────────────┐                    │
│   │  Solo Search Query   │      │  Dual Search Query   │                    │
│   │  (119 results)       │      │  (70 results)        │                    │
│   └──────────┬───────────┘      └──────────┬───────────┘                    │
│              │                              │                                │
│              └──────────┬───────────────────┘                               │
│                         ▼                                                    │
│              ┌──────────────────────┐                                        │
│              │  Manual Review (BMB) │                                        │
│              │  Selection Criteria: │                                        │
│              │  • Unambiguous text  │                                        │
│              │  • English language  │                                        │
│              │  • No duplicates     │                                        │
│              └──────────┬───────────┘                                        │
│                         ▼                                                    │
│              ┌──────────────────────┐                                        │
│              │   56 Labeled         │                                        │
│              │   Abstracts          │                                        │
│              │   (28 dual, 28 solo) │                                        │
│              └──────────┬───────────┘                                        │
│                         │                                                    │
└─────────────────────────┼────────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼────────────────────────────────────────────────────┐
│                         ▼                                                    │
│                    PREPROCESSING                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌──────────────────────┐      ┌──────────────────────┐                    │
│   │  Text Cleaning       │ ──▶  │  BioBERT Tokenizer   │                    │
│   │  • Remove artifacts  │      │  • Max 512 tokens    │                    │
│   │  • Normalize text    │      │  • Add special tokens│                    │
│   └──────────────────────┘      └──────────┬───────────┘                    │
│                                             │                                │
│                                             ▼                                │
│                         ┌──────────────────────────────┐                    │
│                         │  Stratified Train/Test Split │                    │
│                         │  or 5-Fold Cross-Validation  │                    │
│                         └──────────────────────────────┘                    │
│                                                                              │
└─────────────────────────┬────────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼────────────────────────────────────────────────────┐
│                         ▼                                                    │
│                   MODEL TRAINING                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌───────────────────────────────────────────────────┐                     │
│   │  BioBERT v1.1 (monologg/biobert_v1.1_pubmed)      │                     │
│   │  ─────────────────────────────────────────────────│                     │
│   │  Hyperparameters:                                 │                     │
│   │  • Learning rate: 5e-5                            │                     │
│   │  • Batch size: 8                                  │                     │
│   │  • Max epochs: 20                                 │                     │
│   │  • Early stopping: patience=3                     │                     │
│   │  • Dropout: 0.2                                   │                     │
│   │  • Optimizer: AdamW                               │                     │
│   └───────────────────────────────────────────────────┘                     │
│                         │                                                    │
│                         ▼                                                    │
│   ┌───────────────────────────────────────────────────┐                     │
│   │  Fine-tuning for Binary Classification            │                     │
│   │  [CLS] → Transformer Layers → Classification Head │                     │
│   └───────────────────────────────────────────────────┘                     │
│                                                                              │
└─────────────────────────┬────────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼────────────────────────────────────────────────────┐
│                         ▼                                                    │
│                     EVALUATION                                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│   │  Metrics        │  │  Confusion      │  │  Learning       │             │
│   │  • Accuracy     │  │  Matrix         │  │  Curves         │             │
│   │  • Precision    │  │                 │  │                 │             │
│   │  • Recall       │  │  ┌────┬────┐    │  │  ───────────    │             │
│   │  • F1-Score     │  │  │ TP │ FN │    │  │      Train      │             │
│   │  (macro avg)    │  │  ├────┼────┤    │  │  ─ ─ ─ ─ ─ ─    │             │
│   │                 │  │  │ FP │ TN │    │  │      Valid      │             │
│   └─────────────────┘  │  └────┴────┘    │  └─────────────────┘             │
│                        └─────────────────┘                                   │
│                                                                              │
└─────────────────────────┬────────────────────────────────────────────────────┘
                          │
┌─────────────────────────┼────────────────────────────────────────────────────┐
│                         ▼                                                    │
│                      OUTPUTS                                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│   │  Fine-tuned     │  │  Predictions    │  │  HTML Report    │             │
│   │  Model          │  │  (CSV)          │  │  with Figures   │             │
│   │  (safetensors)  │  │                 │  │                 │             │
│   └─────────────────┘  └─────────────────┘  └─────────────────┘             │
│                                                                              │
│   All outputs available at:                                                  │
│   • GitHub: github.com/beabock/biobert_dualsolo                             │
│   • Zenodo: doi.org/10.5281/zenodo.17343492                                 │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

## Simplified Flow

```
Literature Search → Manual Curation → Tokenization → BioBERT Fine-tuning → Evaluation → Predictions
     (WoS)           (56 abstracts)    (512 tokens)    (binary classifier)   (metrics)    (outputs)
```
